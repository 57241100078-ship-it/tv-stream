<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transmisor - Mi Canal de TV</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <div class="container">
        <h1>ğŸ™ï¸ Estudio de TransmisiÃ³n</h1>

        <div class="video-container">
            <video id="preview" autoplay muted playsinline></video>
            <div id="liveBadge" class="live-badge">ğŸ”´ EN VIVO</div>
        </div>

        <div class="controls">
            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 0.8rem; width: 100%;">
                <button id="startBtn" class="btn-primary" style="grid-column: span 2;">
                    <i class="fas fa-play"></i> Iniciar Canal
                </button>
                <button id="stopBtn" class="btn-stop" style="display: none; grid-column: span 2;">
                    <i class="fas fa-stop"></i> Detener
                </button>

                <button id="toggleCamBtn" class="btn-primary" style="background: #475569;">
                    <i class="fas fa-video"></i> Cam: ON
                </button>
                <button id="toggleMicBtn" class="btn-primary" style="background: #475569;">
                    <i class="fas fa-microphone"></i> Mic: ON
                </button>
                <button id="shareScreenBtn" class="btn-primary" style="background: #6366f1; grid-column: span 2;">
                    <i class="fas fa-desktop"></i> Compartir Pantalla
                </button>
            </div>

            <div class="audio-monitor-container"
                style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem; width: 100%; margin-top: 1rem;">
                <span style="font-size: 0.7rem; color: #64748b; font-weight: bold;">MICRÃ“FONO</span>
                <div class="audio-monitor">
                    <div id="audioBar" class="audio-bar"></div>
                </div>
            </div>
        </div>

        <div id="status" class="status">CÃ¡mara lista. Haz clic en "Iniciar" para transmitir.</div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="broadcaster.js"></script>
</body>

</html>